/**
 * spa-router - Single Page Application Router
 * @version v0.5.20
 * @link    https://github.com/soyjavi/spa-router
 * @author   ()
 * @license MIT
 */
(function(){"use strict";var SPArouter,slice=[].slice;SPArouter=function(){var _back,_getHash,_getPath,_listen,_matchRoute,_onPopState,_options,_path,_regexp;return _regexp={attributes:/:([\w\d]+)/g,splat:/\*([\w\d]+)/g,escape:/[-[\]{}()+?.,\\^$|#\s]/g,hash:/^#*/},_options={path:null,forward:!0,absolute:!1,routes:{}},_path=function(){var args,path,state;return args=1<=arguments.length?slice.call(arguments,0):[],args.length>0?(_options.forward=!0,path="/"+args.join("/"),path!==_options.path?(_options.absolute||(path="#"+path),state=window.history.state||null,window.history.pushState(state,document.title,path),_onPopState()):void 0):_options.absolute?_getPath():_getHash()},_back=function(){var steps;return _options.forward=!1,steps=null!=window.history.state.steps?window.history.state.steps:1,window.history.go(-steps)},_listen=function(paths){var attributes,callback,match,path;null==paths&&(paths={});for(path in paths){for(callback=paths[path],attributes=["url"],_regexp.attributes.lastIndex=0;null!==(match=_regexp.attributes.exec(path));)attributes.push(match[1]);for(_regexp.splat.lastIndex=0;null!==(match=_regexp.splat.exec(path));)attributes.push(match[1]);path=path.replace(_regexp.escape,"\\$&").replace(_regexp.attributes,"([^/]*)").replace(_regexp.splat,"(.*?)"),_options.routes[path]={attributes:attributes,callback:callback,regexp:new RegExp("^"+path+"$")}}return _onPopState(),window.addEventListener("popstate",_onPopState)},_onPopState=function(event){var path;return event&&event.preventDefault(),path=_options.absolute?_getPath():_getHash(),path!==_options.path?(_options.path=path,_matchRoute(path)):void 0},_getPath=function(){var path;return path=window.location.pathname,"/"!==path.substr(0,1)&&(path="/#{path}"),path},_getHash=function(){return window.location.hash.replace(_regexp.hash,"")},_matchRoute=function(path,options){var attribute,exec,i,index,key,len,obj,ref,ref1,results,route;results=[];for(key in _options.routes){if(route=_options.routes[key],exec=route.regexp.exec(path)){for(obj={},ref=route.attributes,index=i=0,len=ref.length;len>i;index=++i)attribute=ref[index],obj[attribute]=exec[index];null!=(ref1=route.callback)&&ref1.call(this,obj);break}results.push(void 0)}return results},{path:_path,back:_back,listen:_listen,options:_options}}(),"undefined"!=typeof window&&null!==window&&(window.SPArouter=SPArouter),"undefined"!=typeof module&&null!==module&&(module.exports=SPArouter)}).call(this);